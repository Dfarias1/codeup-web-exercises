<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <link rel="stylesheet" href="css/konami.css">
</head>
<body>
<header>
    <li>Username: Daniel</li>
    <br>
    <li>Score: 1,000,000</li>
    <br>
    <li>Life #: <span id="life">30</span></li>
</header>
<div id="container">
    <h1>Konami Code</h1>
    <p> enter thy code </p>
</div>
<script src="js/jquery-3.6.4.js"></script>
<script>
	"use strict";
	let keys = {
		37: 'left',
		38: 'up',
		39: 'right',
		40: 'down',
		65: 'a',
		66: 'b',
        13: 'start'

	};

	let konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a', 'start'];

	document.addEventListener("keydown", checkCode, false)

	let keyCount = 0;

	function checkCode(event) {
		let keyPressed = keys[event.keyCode];

		if (keyPressed === konamiCode[keyCount]) {
			keyCount++;

		} else {
			resetKeyState();
		}if (keyCount === konamiCode.length) {
			cheatCodeActivated();
			resetKeyState();
		}
	}

	function cheatCodeActivated() {
		// alert("Cheat Code Activated");
		$('body').css('background-image', "url(/img/super-mario-headbang.gif)")
	}

	function resetKeyState() {
		keyCount = 0;
	}

</script>
</body>
</html>
